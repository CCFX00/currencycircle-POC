<!DOCTYPE html>
<html lang="en">

{% include "partials/header.njk" %}

<body>  
    {# <div class="container">
        <h1>Welcome back {{ user.userName }}</h1>
        {% if endpoint === 'getUser' %}
            <p>User's title: {{ user.title }}</p>
            <p>User's name: {{ user.title }}. {{ user.name }}</p>
            <p>User's date of birth: {{ user.dob }}</p>
            <p>User's user name: {{ user.userName }}</p>
            <p>User's profession: {{ user.profession }}</p>
            <p>User's email: {{ user.email }}</p>
            <p>User's phone number: {{ user.phoneNumber }}</p>
            <p>User's country: {{ user.country }}</p>
            {% if user.addressLine1 %}
                <p>User's addressline: {{ user.addressline1 }}</p>
            {% else %}
                <p>User's addressline: {{ user.addressline2 }}</p>
            {% endif %}
            <p>User's city: {{ user.city }}</p>
            <p>User's zip code: {{ user.code }}</p>
            <a href="/logout" class="button">Logout</a>
        {% endif %}
    </div> #}

    <div class="container">
        <header>
            <div class="header-container">
                <div class="menu-icon"><i class="fas fa-bars"></i></div>
                <h1>My Trades</h1>
            </div>
        </header>
        <main>
            <div class="trader-card">
                <div class="profile-container">
                    <img src="images/lady.png" alt="Profile Picture">
                    <div>
                        <h2>{{ user.userName }}</h2>
                        {# <p class="rating">&#9733;&#9733;&#9733;&#9733;&#9733;</p> #}
                        <p class="rating">&#9733;</p>
                    </div>
                    {# <div class="rating">&#9733;&#9733;&#9733;&#9733;&#9733;</div> #}
                    <div class="edit-profile-icon">
                        <p><i class="fas fa-edit"></i></p>
                    </div>
                </div>
                <div class="trader-info">
                    <p><i class="fas fa-map-marker-alt"></i> {{ user.city }}, {{ user.country }}</p>
                    <p><i class="fas fa-calendar-alt"></i> Joined {{ user.joinedAt }}</p>
                    {# <p><i class="fas fa-calendar-alt"></i> Joined {{ user.createdAt | date("D MMM, YYYY") }}</p> #}
                    <p><i class="fas fa-check-circle"></i> No Completed trades yet</p>
                    <p><i class="fas fa-money-bill-wave"></i> No favorite currencies yet</p>
                    {% if offers.length > 0 %}
                        <p><i class="fas fa-briefcase"></i> {{ offers.length }} Offers</p>
                    {% else %}
                        <p><i class="fas fa-briefcase"></i> No offers yet</p>
                    {% endif %}
                    <p><i class="fas fa-clock"></i> Unknown average completion time</p>
                    <p><i class="fas fa-times-circle"></i> No Cancelled matches</p>
                    
                    {# <p><i class="fas fa-check-circle"></i> 15 Completed trades</p>
                    <p><i class="fas fa-money-bill-wave"></i> GBP, XAF, USD</p>
                    <p><i class="fas fa-clock"></i> 24 hrs average completion time</p>
                    <p><i class="fas fa-times-circle"></i> 2 Cancelled matches</p> #}
                        
                </div>
            </div>
            <div class="navigation-container">
                <button class="my-offers-btn">My Offers</button>
                <button class="matched-trades-btn">Matched Trades</button>
                <button class="in-discussion-btn">In Discussion</button>
            </div>            
            {% if offers.length > 0 %}
                <ul class="offers-list">
                    {% for offer in offers %}                            
                        <li class="offer-card">
                            <div class="offer-header">
                                <span class="offer-date">{{ offer.date }}</span>
                                <span class="exchange-rate">1 {{ offer.from }} = {{ offer.rate }} {{ offer.to }}</span>
                                <span class="matches">{{ offer.matches }} Matches</span>
                            </div>
                            <div class="offer-content">
                                <div class="offer-amount">
                                    <div class="currency">{{ offer.from }}</div>
                                    <div class="amount">{{ offer.amount }}</div>
                                </div>
                                <div class="exchange-arrow">&#x21c6;</div>
                                <div class="offer-amount">
                                    <div class="currency">{{ offer.to }}</div>
                                    <div class="amount">{{ offer.amount }}</div>
                                </div>
                            </div>
                        </li>              
                    {% endfor %}
                </ul>
            {% else %}
                <div class="no-offers-container">
                    <p>You have no offers, Matched trades or discussions.</p>
                    <img src="images/nooffers.png" alt="No Offers">
                    <button class="create-offer-btn">Click the <span class="plus-icon">+</span> Sign to create an offer</button>
                </div>
            {% endif %}
            <div class="icons-container">
                <div class="wallet-icon"><i class="fas fa-wallet"></i></div>
                <div class="add-icon"><i class="fas fa-plus-circle"></i></div>
                <div class="notification-icon"><i class="fas fa-bell"></i></div>
                <div class="settings-icon"><i class="fas fa-cog"></i></div>
                <div class="settings-icon" onclick="signout()"><i class="fas fa-sign-out-alt"></i></div>
            </div>
        </main>
    </div>

    {% include "partials/footer.njk" %}
</body>
</html>